import{_ as T}from"./biAMTF3B.js";import{ah as w,ay as D,ai as s,aj as t,am as l,an as b,T as H,av as _,W as N,ao as e,e as y,ak as f,R as $,at as A,az as O,as as V,ax as C,Y as z}from"./BJi9F7T9.js";import{l as j}from"./YlgW88SJ.js";import{p as E,g as R}from"./Dgk4jJtj.js";import{f as Y}from"./DFMnQmrK.js";import{u as L}from"./D1wmksbD.js";import"./BJ2ClxiI.js";const U={class:"itemY"},W={class:"child"},X={key:0,class:"child"},B={__name:"Allreplylist",props:{parentmsg:{type:Object}},setup(n){let{message:a}=w(["message"]);const r=y(!1),h=()=>{r.value=!r.value};return(u,c)=>{const g=D("mavon-editor"),o=B;return t(),s("div",U,[l("span",W,[l("a",{onClick:h},[l("div",null,"> "+_(n.parentmsg.title),1)]),H(l("div",null,[f(g,{class:"replymd",modelValue:n.parentmsg.body,"onUpdate:modelValue":c[0]||(c[0]=p=>n.parentmsg.body=p),subfield:!1,defaultOpen:"preview",toolbarsFlag:!1,editable:!1,scrollStyle:!0,ishljs:!0},null,8,["modelValue"])],512),[[N,e(r)]])]),n.parentmsg.child?(t(),s("ul",X,[(t(!0),s($,null,A(n.parentmsg.child,(p,m)=>(t(),O(o,{parentmsg:p,key:m},null,8,["parentmsg"]))),128))])):b("",!0)])}}},q={key:0},G=["src"],I={key:1,class:"replyX"},J={__name:"Allreplies",props:{otherreply:{type:Object,default:{}}},async setup(n){let a,r;const h=n,u=V(),c=u.params.author,g=u.params.permlink,o=[];let p={author:c,permlink:g};const{data:m,pending:i}=([a,r]=C(()=>E("/hiveapi/getallreplies",p)),a=await a,r(),a);return m.value&&m.value.result.forEach(d=>{d.author==c&&o.push(d)}),z(h,()=>{o.push(h.otherreply)}),(k,d)=>{const v=B;return e(i)?(t(),s("div",q,[l("img",{src:e(j),alt:"miao loading"},null,8,G)])):(t(),s("div",I,[(t(),s($,null,A(o,x=>l("div",null,[f(v,{parentmsg:x},null,8,["parentmsg"])])),64))]))}}},K={subContainer:""},M={key:0},P={key:1},Q={key:2},Z={"text-size-2xl":"","text-center":"","m-t-10":""},ee={"text-center":""},te={"text-center":""},se={key:0,"text-center":""},ae=["src"],oe={key:1},ue={__name:"[permlink]",async setup(n){let a,r,{message:h}=w(["message"]);const u=V(),c=u.params.author,g=u.params.permlink;let o=y(!0);const p=y(),m=y(),{data:i,pending:k,error:d}=([a,r]=C(()=>R("/starnoteapi/note/@"+c+"/"+g)),a=await a,r(),a);return i.value&&(o.value=!1,m.value=i.value.result.abstract),L({title:i?.value?.result.title}),(v,x)=>{const F=T,S=J;return t(),s("div",K,[e(k)||e(o)?(t(),s("div",M,[f(F)])):e(d)?(t(),s("div",P," 错误 "+_(e(d)),1)):(t(),s("div",Q,[l("div",Z,_(e(i).result.title),1),l("p",ee,"@"+_(e(i).result.author)+" 　"+_(("formatTime"in v?v.formatTime:e(Y))(e(i).result.created)),1),l("p",te,"简介： "+_(e(m)),1),e(o)?(t(),s("div",se,[l("img",{src:e(j),alt:"miao loading"},null,8,ae)])):b("",!0),e(o)?b("",!0):(t(),s("div",oe,[f(S,{otherreply:e(p)},null,8,["otherreply"])]))]))])}}};export{ue as default};
