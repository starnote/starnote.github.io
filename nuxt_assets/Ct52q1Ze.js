import{_ as S}from"./T3wtgIpl.js";import{ah as x,ay as T,ai as a,aj as s,am as t,an as b,T as z,av as _,W as D,ao as e,e as f,ak as y,R as $,at as A,az as H,as as V,ax as C,Y as O}from"./DmSE3pc0.js";import{l as N}from"./jXHp9Gdl.js";import{p as E,g as R}from"./BYa7SfSi.js";import{f as Y}from"./CCt3WmEJ.js";import{u as L}from"./BviVubOM.js";import{N as U}from"./_ZpcPl3H.js";import"./BJ2ClxiI.js";import"./DI0yd97p.js";const W={class:"itemY"},X={class:"child"},q={key:0,class:"child"},j={__name:"Allreplylist",props:{parentmsg:{type:Object}},setup(i){let{message:o}=x(["message"]);const r=f(!1),h=()=>{r.value=!r.value};return(u,c)=>{const v=T("mavon-editor"),l=j;return s(),a("div",W,[t("span",X,[t("a",{onClick:h},[t("div",null,"> "+_(i.parentmsg.title),1)]),z(t("div",null,[y(v,{class:"replymd",modelValue:i.parentmsg.body,"onUpdate:modelValue":c[0]||(c[0]=p=>i.parentmsg.body=p),subfield:!1,defaultOpen:"preview",toolbarsFlag:!1,editable:!1,scrollStyle:!0,ishljs:!0},null,8,["modelValue"])],512),[[D,e(r)]])]),i.parentmsg.child?(s(),a("ul",q,[(s(!0),a($,null,A(i.parentmsg.child,(p,m)=>(s(),H(l,{parentmsg:p,key:m},null,8,["parentmsg"]))),128))])):b("",!0)])}}},G={key:0},I=["src"],J={key:1,class:"replyX"},K={__name:"Allreplies",props:{otherreply:{type:Object,default:{}}},async setup(i){let o,r;const h=i,u=V(),c=u.params.author,v=u.params.permlink,l=[];let p={author:c,permlink:v};const{data:m,pending:n}=([o,r]=C(()=>E("/hiveapi/getallreplies",p)),o=await o,r(),o);return m.value&&m.value.result.forEach(d=>{d.author==c&&l.push(d)}),O(h,()=>{l.push(h.otherreply)}),(k,d)=>{const g=j;return e(n)?(s(),a("div",G,[t("img",{src:e(N),alt:"miao loading"},null,8,I)])):(s(),a("div",J,[(s(),a($,null,A(l,w=>t("div",null,[y(g,{parentmsg:w},null,8,["parentmsg"])])),64))]))}}},M={subContainer:""},P={key:0},Q={key:1},Z={key:2},ee={"text-size-2xl":"","text-center":"","m-t-10":""},te={id:"aavatar","m-y-4":""},se={class:"user-cell"},ae={class:"user-details"},oe={class:"user-name-cell"},le={class:"user-id"},re={"text-4.5":""},ne={key:0,"text-center":""},ie=["src"],ce={key:1},fe={__name:"[permlink]",async setup(i){let o,r,{message:h}=x(["message"]);const u=V(),c=u.params.author,v=u.params.permlink;let l=f(!0);const p=f(),m=f(),{data:n,pending:k,error:d}=([o,r]=C(()=>R("/starnoteapi/note/@"+c+"/"+v)),o=await o,r(),o);return n.value&&(l.value=!1,m.value=n.value.result.abstract),L({title:n?.value?.result.title}),(g,w)=>{const B=S,F=K;return s(),a("div",M,[e(k)||e(l)?(s(),a("div",P,[y(B)])):e(d)?(s(),a("div",Q," 错误 "+_(e(d)),1)):(s(),a("div",Z,[t("div",ee,_(e(n).result.title),1),t("div",te,[t("div",se,[y(e(U),{round:"",size:"large",src:"https://yoyo.ilark.io/u/"+e(n).result.author+"/avatar"},null,8,["src"]),t("div",ae,[t("span",oe,"@"+_(e(n).result.author),1),t("span",le,_(("formatTime"in g?g.formatTime:e(Y))(e(n).result.created)),1)])])]),t("p",re,"简介： "+_(e(m)),1),e(l)?(s(),a("div",ne,[t("img",{src:e(N),alt:"miao loading"},null,8,ie)])):b("",!0),e(l)?b("",!0):(s(),a("div",ce,[y(F,{otherreply:e(p)},null,8,["otherreply"])]))]))])}}};export{fe as default};
